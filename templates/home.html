<!-- Extends from the base.html file -->
{% extends 'base.html' %}
<!-- The block for the title of this file -->
{% block title %} Home {% endblock title %}
{% block content %}

<!-- if a user is active -->
{% if current_user.is_authenticated %}
<!-- The scrolling text displays the user's first name -->
<marquee behavior="smooth" direction="" class="move"
  >Hi! {{current_user.first_name.title()}}</marquee
>
{% endif %}
<h1 class="text-muted text-center h4">LATEST TRENDING POSTS</h1>
<hr class="mb-5" 
style="
border: 1px solid rgb(147, 139, 139);
"
/>
<!-- If the  -->
{% if posts %} 

{% for post in posts %}
<div
  class="card p-4 mt-4"
  style="
    box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;
    border-left: 5px solid lightblue;
  "
>
  <div class="d-flex align-items-center">
    <img
      style="width: 4rem"
      src="{{ url_for('static', filename='images/user.png') }}"
      alt=""
    />
    <div class="mx-3 d-flex flex-column">
      <a
        href="{{ url_for('profile', profile_id=post.author.id) }}"
        class="text-decoration-none text-secondary"
      >
        <span class="h5 text-info"
          >{{ post.author.first_name.upper() }} {{ post.author.last_name.upper()
          }}
        </span>
      </a>
      <small class="text-muted fw-normal"
        >{{ post.date_posted.strftime('%Y-%h-%d') }}</small
      >
    </div>
  </div>
  <div class="d-flex align-items-center justify-content-between">
    <a
      href="{{ url_for('display_post', blog_id=post.id) }}"
      class="h5 text-decoration-none d-flex align-items-center text-dark card-title mt-4"
      style="width: fit-content"
    >
      {{ post.title.title() }}<i
        class="fa fas fas fas fa-external-link-alt d-xl-block d-lg-block d-none p-2 text-secondary mt-2 h6"
        style="opacity: 0.8; font-size: small"
      ></i>
    </a>
  </div>
  <hr />
  <p class="card-text">
    {{ post.content[:50] }}.................. <br /><br /><small
      class="text-muted"
      style="font-size: 0.7rem"
      >(click on title to read more)</small
    >
  </p>
</div>
{% endfor %} {% else %}
<h1 class="alert alert-danger text-center" id="th" style="transform: rotate(-10deg); margin-top: 10rem;">
  Post Unavailable
</h1>
{% endif %}
 {% endblock content %}
